(this["webpackJsonpnews-izquierdo-javier"]=this["webpackJsonpnews-izquierdo-javier"]||[]).push([[0],{30:function(e,t,n){e.exports=n(41)},35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),i=(n(35),n(12)),l=n(13),u=n(14),s=n(10);function d(){return function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)}((new Date).valueOf()).valueOf()}function p(){return e=d(),new Date(e).toISOString().substr(0,10);var e}var m={hasError:!1,error:""},h={articles:[],date:p(),quantity:5,trendingData:{topics:[],news:{}}},f=Object(u.c)({loadingError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loadingError":return Object(s.a)({},t.payload);default:return e}},loadingInProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loadingInProgress":return t.isLoading;default:return e}},articleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"articleDate":return Object(s.a)(Object(s.a)({},e),{},{date:t.articleDate});case"articleQuantity":return Object(s.a)(Object(s.a)({},e),{},{quantity:t.articleQuantity});case"clearArticles":return Object(s.a)(Object(s.a)({},e),{},{articles:[],trendingData:{topics:[],news:{}}});case"loadingSuccess":return Object(s.a)(Object(s.a)({},e),{},{articles:t.articles});case"trendingSuccess":return Object(s.a)(Object(s.a)({},e),{},{trendingData:{topics:t.payload.topics,news:t.payload.news}});case"searchArticles":case"getArticlesByCategory":case"getLatestArticles":case"getTrendingArticles":return e;default:return Object(s.a)({},e)}}}),g=n(28),v=n.n(g),y=function(e){return function(t){return function(n){var a;return console.groupCollapsed("despachando",n.type),console.log("state previo: ",e.getState()),console.log("accion: ",n),a=t(n),console.log("proximo estado: ",e.getState()),console.groupEnd(),a}}},E=function(){return Object(u.d)(f,Object(u.a)(y,v.a))},b=n(2),O=n(3),j=n(5),D=n(4),k=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,a=e.color,c=e.backgroundColor;return r.a.createElement("i",{className:t,style:{fontSize:n,color:a,background:c,padding:"5px"}})}}]),n}(r.a.Component),C=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"Buscar",placeholder:"Buscar"}),r.a.createElement("button",null,r.a.createElement(k,{type:"fa fa-search",size:"1em"}))))}}]),n}(r.a.Component),w=[{id:0,name:"hoy",description:"\xdaltimo momento",linkTo:"/ultimas",includeId:!0},{id:100,name:"hoy/5",description:"Tendencias",linkTo:"/tendencias",includeId:!0},{id:1,name:"politica",description:"Pol\xedtica",linkTo:"/noticias",includeId:!0},{id:2,name:"internacionales",description:"Internacionales",linkTo:"/noticias",includeId:!0},{id:3,name:"tecnologia",description:"Tecnolog\xeda",linkTo:"/noticias",includeId:!0},{id:4,name:"espectaculos",description:"Espect\xe1culos",linkTo:"/noticias",includeId:!0},{id:5,name:"deportes",description:"Deportes",linkTo:"/noticias",includeId:!0},{id:6,name:"dise\xf1o",description:"Dise\xf1o",linkTo:"/noticias",includeId:!0}],T=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=w.map((function(e){var t=e.includeId?"/".concat(e.name):"";return r.a.createElement(i.b,{key:e.id,to:"".concat(e.linkTo).concat(t)},r.a.createElement("li",null,e.description))}));return r.a.createElement("navbar",null,r.a.createElement("ul",{className:"menu"},e))}}]),n}(r.a.Component),A=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",null,"News Form"),r.a.createElement(C,null),r.a.createElement(T,null))}}]),n}(r.a.Component),I=n(1),Q=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleOnChange=function(t){e.props.setDate(t.target.value)},e}return Object(O.a)(n,[{key:"refreshArticles",value:function(){var e=this.props,t=e.onGet,n=e.paramDate,a=void 0===n||"HOY"===n.toUpperCase()?p():n;void 0!==a&&t(a)}},{key:"componentDidMount",value:function(){this.refreshArticles()}},{key:"componentDidUpdate",value:function(e){this.props.paramDate!==e.paramDate&&this.refreshArticles()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.hasError,a=e.error,c=e.paramDate,o=e.articleDate,l=e.articles,u=l.map((function(e){return r.a.createElement("li",{key:e.news_id},r.a.createElement("div",null,"Category: ",e.category),r.a.createElement("div",null,"Title: ",e.title))}));return r.a.createElement("div",null,r.a.createElement("h3",null,"\xdatimo momento ParamDate: [",c,"] - articleDate:[",o,"]"),r.a.createElement("div",null,r.a.createElement("input",{value:o,onChange:this.handleOnChange,type:"date"}),r.a.createElement(i.b,{to:"/ultimas/".concat(o)},r.a.createElement("button",null,"Refresh"))),r.a.createElement("div",null,n?"Error buscando noticias: ".concat(a):""),r.a.createElement("div",null,t?"Loading":""),r.a.createElement("div",null,l.length,r.a.createElement("ul",null,u)))}}]),n}(r.a.Component),N="https://api.canillitapp.com",S=function(e,t){return{type:"loadingError",payload:{hasError:e,error:t}}},L=function(e){return{type:"loadingInProgress",isLoading:e}},x=function(e){return{type:"loadingSuccess",articles:e}},P=function(e){return{type:"articleDate",articleDate:e}},G=function(e){return{type:"articleQuantity",articleQuantity:e}},U=Object(l.b)((function(e,t){return{paramDate:t.match.params.paramDate,articleDate:e.articleData.date,articles:e.articleData.articles,hasError:e.loadingError.hasError,error:e.loadingError.error,isLoading:e.loadingInProgress}}),(function(e){return{setDate:function(t){return e(P(t))},onGet:function(t){return e(function(e){return function(t){var n="".concat(N).concat("/latest/").concat(e);console.log("Url latest: ["+n+"]"),t({type:"clearArticles"}),t(S(!1)),t(L(!0)),t(P(e)),fetch(n).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return console.log(e),t(L(!1)),t(x(e))})).catch((function(e){return t(S(!0,e))}))}}(t))}}}))(Q),q=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedTopic:""},e.handleOnChange=function(t){var n=t.target,a=n.name,r=n.value;switch(a){case"date":e.props.setDate(r);break;case"quantity":e.props.setQuantity(r)}},e.handleTopicSelection=function(t){e.setState({selectedTopic:t.target.value})},e}return Object(O.a)(n,[{key:"refreshArticles",value:function(){var e=this.props,t=e.onGet,n=e.paramDate,a=e.paramQuantity,r=void 0===n||"HOY"===n.toUpperCase()?p():n;void 0!==r&&void 0!==a&&t(r,a)}},{key:"componentDidMount",value:function(){this.refreshArticles()}},{key:"componentDidUpdate",value:function(e){this.props.paramDate===e.paramDate&&this.props.paramQuantity===e.paramQuantity||this.refreshArticles(),this.props.topics.length!==e.topics.length&&this.setState({selectedTopic:this.props.topics[0]})}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.hasError,a=e.error,c=e.paramDate,o=e.paramQuantity,l=e.articleDate,u=e.articleQuantity,s=e.topics,d=e.articleGroups,p=s.map((function(e,t){return r.a.createElement("option",{key:t,value:e},"".concat(e," (").concat(d[e].length,")"))})),m=void 0!==d[this.state.selectedTopic]?d[this.state.selectedTopic].map((function(e){return r.a.createElement("li",{key:e.news_id},r.a.createElement("div",null,"Category: ",e.category),r.a.createElement("div",null,"Title: ",e.title))})):[];return r.a.createElement("div",null,r.a.createElement("h3",null,"Tendencias: [",c,"] - articleDate:[",l,"] - paramQty [",o,"] articleQuantity [",u,"]"),r.a.createElement("div",null,r.a.createElement("input",{name:"date",value:l,onChange:this.handleOnChange,type:"date"}),r.a.createElement("input",{name:"quantity",value:u,onChange:this.handleOnChange,type:"number"}),r.a.createElement(i.b,{to:"/tendencias/".concat(l,"/").concat(u)},r.a.createElement("button",null,"Refresh"))),r.a.createElement("div",null,n?"Error buscando noticias: ".concat(a):""),r.a.createElement("div",null,t?"Loading":""),r.a.createElement("div",null,s.length,r.a.createElement("div",null,r.a.createElement("select",{onChange:this.handleTopicSelection,value:this.state.selectedTopic},p)),r.a.createElement("div",null,r.a.createElement("ul",null,m))))}}]),n}(r.a.Component),z=Object(l.b)((function(e,t){return{paramDate:t.match.params.paramDate,paramQuantity:t.match.params.paramQty,articleDate:e.articleData.date,articleQuantity:e.articleData.quantity,topics:e.articleData.trendingData.topics,articleGroups:e.articleData.trendingData.news,hasError:e.loadingError.hasError,error:e.loadingError.error,isLoading:e.loadingInProgress}}),(function(e){return{setDate:function(t){return e(P(t))},setQuantity:function(t){return e(G(t))},onGet:function(t,n){return e(function(e,t){return function(n){var a="".concat(N).concat("/trending/").concat(e,"/").concat(t);console.log("Url trending: ["+a+"]"),n({type:"clearArticles"}),n(S(!1)),n(L(!0)),n(P(e)),n(G(t)),fetch(a).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return console.log("Topics"),console.log(e.keywords),console.log("News"),console.log(e.news),n(L(!1)),n((t=e.keywords,a=e.news,{type:"trendingSuccess",payload:{topics:t,news:a}}));var t,a})).catch((function(e){return n(S(!0,e))}))}}(t,n))}}}))(q),M=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"refreshArticles",value:function(){var e=this.props,t=e.selectedCategory,n=e.onGet;void 0!==this.props.selectedCategory&&n(t.id)}},{key:"componentDidMount",value:function(){this.refreshArticles()}},{key:"componentDidUpdate",value:function(e){this.props.selectedCategory!==e.selectedCategory&&this.refreshArticles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedCategory,a=t.isLoading,c=t.hasError,o=t.error,i=t.articles,l=i.map((function(e){return r.a.createElement("li",{key:e.news_id},r.a.createElement("div",null,"Category: ",e.category),r.a.createElement("div",null,"Title: ",e.title))}));return void 0===n?r.a.createElement("div",null,"No se encontro la categor\xeda de noticias especificada => ",this.props.match.params.categoryName):r.a.createElement("div",null,r.a.createElement("h3",null,"Categoria ",n.description," - ",n.id),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.refreshArticles()}},"Refresh")),r.a.createElement("div",null,c?"Error buscando noticias: ".concat(o):""),r.a.createElement("div",null,a?"Loading":""),r.a.createElement("div",null,i.length,r.a.createElement("ul",null,l)))}}]),n}(r.a.Component),B=Object(l.b)((function(e,t){return{articles:e.articleData.articles,hasError:e.loadingError.hasError,error:e.loadingError.error,isLoading:e.loadingInProgress,selectedCategory:w.find((function(e){return e.name===t.match.params.categoryName}))}}),(function(e,t){return{onGet:function(t){return e(function(e){return function(t){var n="".concat(N).concat("/news/category/").concat(e);console.log("Url category: ["+n+"]"),t({type:"clearArticles"}),t(S(!1)),t(L(!0)),fetch(n).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return console.log(e),t(L(!1)),t(x(e))})).catch((function(e){return t(S(!0,e))}))}}(t))}}}))(M),F=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("main",{className:"main"},r.a.createElement(I.a,{exact:!0,path:"/",component:U}),r.a.createElement(I.a,{exact:!0,path:"/ultimas/:paramDate",component:U}),r.a.createElement(I.a,{path:"/tendencias/:paramDate/:paramQty",component:z}),r.a.createElement(I.a,{path:"/noticias/:categoryName",component:B}))}}]),n}(r.a.Component),R=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h4",null,"Pr\xe1ctico Nro 2 - News Feed"))}}]),n}(r.a.Component),Y=function(e){Object(j.a)(n,e);var t=Object(D.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(F,null),r.a.createElement(R,null))}}]),n}(r.a.Component),_=E();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:_},r.a.createElement(i.a,null,r.a.createElement(Y,null)))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.575383dd.chunk.js.map